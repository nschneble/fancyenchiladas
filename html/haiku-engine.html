<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Fancy Enchiladas</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="A blog that's not about fancy enchiladas and is also not really a blog">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
		<link rel="shortcut icon" href="/images/favicon.ico">
		<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
		<style>
			body {
				background: white;
				color: black;

				background-image: url("/images/kyoto-forest.jpg");
				background-repeat: no-repeat;
				background-attachment: fixed;
				background-size: cover;
			}

			a:link,
			a:visited {
				color: white;
			}
		</style>
	</head>
	<body>
		<div style="background: rgba(0,0,0,0.65); color: white; padding: 20px;">
			<h1>Haiku Engine</h1>
			<p><strong>July 3, 2025<br>Beverly</strong></p>
			<p id="placeholder">
				&nbsp;<br>
				&nbsp;<br>
				&nbsp;
			</p>
			<p class="hidden" id="haiku">
				I <span id="one"></span> of a <span id="two"></span><br>
				It is <span id="three"></span> <span id="four"></span> <span id="five"></span><br>
				I'm <span id="six"></span> with <span id="seven"></span>
			</p>
			<hr>
			<p><small>↻ <a href="/haiku-engine/">Generate another</a><br>← <a href="/">Back to list</a></small></p>
		</div>
		<script type="module">
			/*global document fetch */
			const emotions = ["happy", "melancholy", "philosophical"];
			const emotion = emotions[Math.floor(Math.random() * emotions.length)];
			fetch(`/data/${emotion}.json`)
				.then(response => response.json())
				.then(data => {
					const words = ["one", "two", "three", "four", "five", "six", "seven"];
					for (let word of words) {
						var choices = data[word];
						var choice = choices[Math.floor(Math.random() * choices.length)];
						document.getElementById(word).innerHTML = choice;
					}
				})
				.finally(() => {
					document.getElementById("placeholder").classList.add("hidden");
					document.getElementById("haiku").classList.remove("hidden");
				});
		</script>
	</body>
</html>
